<div *ngIf="!isAuthenticated; else authenticatedTemplate">
    <button class="w-full px-4 py-2 text-blue-800 rounded border border-blue-800 cursor-pointer" (click)="login()">
        Login
    </button>
</div>

<ng-template #authenticatedTemplate>
    <h1 class="text-3xl font-bold">Profile</h1>
    <form class="mt-4 space-y-4">
        <div class="flex space-x-4">
            <div class="flex-1">
                <label for="firstName" class="block text-sm font-medium text-gray-700">Pr√©nom</label>
                <input id="firstName" name="firstName" type="text" [(ngModel)]="user.family_name"
                    class="block w-full p-2 ps-2 text-sm text-gray-900 border shadow-md border-gray-700 rounded-lg bg-white focus:ring-blue-800 focus:border-blue-800" />
            </div>

            <div class="flex-1">
                <label for="lastName" class="block text-sm font-medium text-gray-700">Nom</label>
                <input id="lastName" name="lastName" type="text" [(ngModel)]="user.given_name"
                    class="block w-full p-2 ps-2 text-sm text-gray-900 border shadow-md border-gray-700 rounded-lg bg-white focus:ring-blue-800 focus:border-blue-800" />
            </div>
        </div>

        <div class="mb-4">
            <label for="email" class="block text-sm font-medium text-gray-700">Email</label>
            <input id="email" name="email" type="email" [(ngModel)]="user.email"
                class="block w-full p-2 ps-2 text-sm text-gray-900 border shadow-md border-gray-700 rounded-lg bg-white focus:ring-blue-800 focus:border-blue-800" />
        </div>
    </form>

    <h1 class="text-3xl font-bold">Favorite</h1>
    <app-favorite-item *ngFor="let favorite of favorites" [favorite]="favorite"></app-favorite-item>

    <h1 class="text-3xl font-bold">History</h1>
    <app-history-item *ngFor="let history of histories" [history]="history"></app-history-item>

    <button class="w-full px-4 py-2 text-red-600 rounded border border-red-600 cursor-pointer" (click)="logout()">
        Logout
    </button>
</ng-template>